<%
record = list_record if list_record # compat with render :partial :collection
columns ||= list_columns
tr_class = cycle("", "even-record")
class_override_helper = :"#{clean_class_name(record.class.name)}_list_row_class"
tr_class += " #{send(class_override_helper, record)}" if respond_to? class_override_helper
url_options = params_for(:action => :list, :id => record.id)
action_links ||= active_scaffold_config.action_links.member
-%>

<tr class="record <%= tr_class %>" id="<%= element_row_id(:action => :list, :id => record.id) %>" data-refresh="<%= url_for(params_for(:action => :row, :id => record.id, :_method => :get)).html_safe %>">
  <%= render :partial => 'list_record_columns', :locals => {:record => record, :columns => columns} %>
  <%= render :partial => 'list_actions', :locals => {:record => record, :url_options => url_options, :action_links => action_links} unless action_links.empty? %>
  <%= render_nested_view(action_links, url_options, record) unless @nested_auto_open.nil? %>
</tr>
